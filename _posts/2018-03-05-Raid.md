---
title: "RAID - 디스크배열"
categories: posts
tags:
  - etc
date: 2018-03-05 00:00:00 -0400
---


## 디스크배열(RAID)

RAID란 Redundant Array of Inexpensive Disks의 약자로 디스크를 여러장 묶어서,   
데이터 중복성 및 성능 향상을 유도할 수 있는 기법.   

여러 디스크를 하나의 장치로 인식하게 하는 방법이다.  
단일 디스크로 만들 수 없는 거대한 스토리지 공간을 확보하거나 속도를 높이거나 하는 데 쓰이고, 미러링을 통해 가용성을 높이는 데 이용가능  

미러링의 경우 백업과 개념이 혼동되곤 하는데 작업자가 (실수로라도)   
손수 날린 내용에 대해서 복구를 보장하지 않기 때문에 백업이라고 할 수는 없다.  

RAID 기법은 많이 있으나, 일반적으로 실무에서는 RAID0, RAID1, RAID5, RAID10또는 RAID01을 많이 사용.  

레이드를 구성하고 데이터를 처리하는 데 부하가 많이 걸리기 때문에  
레이드 구성을 사용하기 위해서는 기본적으로 레이드 컨트롤러(제어기)가 필요하다.   
레이드 컨트롤러에는 프로세서와 메모리 등이 따로 달려 있다.  
이런 레이드 컨트롤러는 상당히 비싸다.  


### [구현방식]

구현 방식은 대강 Hardward RAID, Fake RAID, Software RAID로 나눌 수 있다.  

- **Hardward RAID**

하드웨어 RAID도 구현 방식에 따라 별도의 카드(add-in card)를 사용하는   
경우와 모든 기능을 하나의 칩에 넣은 ROC(RAID-on-Chip) 방식이 있다.  

하드웨어 RAID는 독립적으로 구성되기 때문에 컨트롤러와 통신하기 위해서는 OS에 적절한 드라이버가 필요하다.   

확실하고 안정적인 레이드 구성 및 운영을 위해서는 별도의 레이드 컨트롤러 카드를 장착하는 게 역시 바람직하다.  


- **Software RAID**

소프트웨어 RAID는 RAID 기능이 소프트웨어로 구현된 것이다.  
소프트웨어 RAID가 동작하기 위해서는 CPU의 자원을 사용하기 때문에 하드웨어 RAID에 비해 성능에 제약이 있다.  

하드웨어적 구성에 비해 성능향상 폭이 작고 안정성도 떨어진다.   

따라서 소프트웨어 레이드는 ‘그냥 이런 게 있구나’하는 정도로만 이해하고, 실제로 적용/사용할 생각은 하지 않는 게 좋다.  


- **Fake RAID**

하드웨어 방식은 OS 이전에 처리가 되고, 소프트웨어는 OS 안에서 처리가 되는데,   
페이크는 이 중간에서 소프트웨어 방식을 일종의 장치로 인식시키는 처리만 할 뿐이라고 한다.  

본질적으로 (메인보드)마더보드의 BIOS에서 제공하는 소프트웨어 RAID   
OS가 아직 명시 적으로 가짜 RAID를 지원해야 가능함. (OS드라이버에 의존함)  
하드웨어 RAID는 달리, FAKE RAID는 OS에 단일 논리 디스크로 어레이를 제공하지 않음.  
메인보드가 죽으면 데이터도 손실됨.  

RAID 0, 1레벨만 지원. 다른 레벨 지원 X  
리눅스에서 기본적으로 제공하는 software raid -  dmraid  


- **RAID 0**

2개 이상의 디스크를 사용하여 구성. 스트라이핑 모드.   

장점: 같은 섹터에 병렬기록, 읽기/쓰기 향상. '데이터 입출력 속도의 향상'이다  
	각각의 하드디스크 분산 전송하기 때문에 입출력 속도가 극대화된다  

단점: 디스크 장애시 복구 불능. '데이터 보호' 기능이 없다  

```
[  1  ][  2  ]

[  3  ][  4  ]

[  5  ][  6  ]
```



- **RAID 1**

동일한Raid 볼륨으 추가적으로 구성 한 것. 미러링 모드  

장점: 디스크 장애시 복구 가능. 읽기 성능 향상.(다중 스레드 사용시),  데이터 보호   

단점: 동일 데이터를 중복해서 써야하므로 쓰기 속도 느림.  

사용처:  속도보다는 안정성을 추구하는 데이터에 적합. 전체용량의1/2 만 사용가능.  

```
[  1  ][  1  ]

[  2  ][  2  ]

[  3  ][  3  ]
```



- **RAID 2**

RAID 0의 장점을 사용하면서 신뢰성을 높이기 위한 방법. 4개를 스트라이핑 모드 구성+ 3개의 패리티 체크 구성.  

장점:  여러 개의 디스크 장애시 복구 가능.  

단점: 볼륨 구성 단위가 크다.   

```
[  a1  ][  a2  ][  a3  ][  a4  ][  ap1  ][  ap2  ][  ap3  ]

[  b1  ][  b2  ][  b3  ][  b4  ][  bp1  ][  bp2  ][  bp3  ]
```



- **RAID 5**

RAID4의 단점을 개선 시킨 모델. 성능샹 효율을 위해 패리티 디스크들을 각 볼륨에 분할.  
최소3개의 디스크 필요.  

장점:  어느 정도 속도 보장.  

단점: 다중 디스크 장애시 복구 불능. (1장 까지 장애 복구 가능)  

```
[  a1  ][  a2  ][  a3  ][  ap  ]

[  b1  ][  b2  ][  bp  ][  b3  ]

[  c1  ][  cp  ][  c2  ][  c3  ]
```


- **레이드 0+1**

레이드 0 구성을 미러링(레이드 1) 해두는 방식이다.  
